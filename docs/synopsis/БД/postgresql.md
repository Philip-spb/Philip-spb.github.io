---
layout: default
title: "PostgreSQL"
grand_parent: "Конспекты"
parent: "БД"
nav_order: 1
---

# PostgreSQL

| Команда                                           | Описание                   |
| ------------------------------------------------- | -------------------------- |
| `psql --username=username --dbname=bdname`        | Подключение к указанной БД |
| `psql --username=username dbname < dbname.pg.sql` | Загрузка дампа БД          |
| `pg_dumpall -U dbname > ~/dbname.pgsql.backup`    | Создание дампа БД          |


## Создание БД из кода 

Создаем БД из кода. База создается. Далее создаем все необходимые таблицы. Скрипт выполняется без ошибок.  Однако при добавлении данных в таблицу получаем ошибку, что данная таблица не существует. При подключении через pgAdmin все таблицы на месте. При подключении через psql ни одной таблицы в базе нет. Оказывается в postgres можно создать таблицы, но не включить их в поиск, по факту они будут существовать, но с ними нельзя будет работать. Помогает выполнить

```sql
RESET search_path;
```

После того как все таблицы были созданы.